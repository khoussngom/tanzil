{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { ButtonCTAComponent } from '../../components/button-cta/button-cta.component';\nimport { gsap } from 'gsap';\nimport { ScrollTrigger } from 'gsap/ScrollTrigger';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/content.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@ngx-translate/core\";\nfunction HomeComponent_div_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 22)(1, \"div\", 23)(2, \"span\", 24);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"h3\", 25);\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"p\", 26);\n    i0.ɵɵtext(8);\n    i0.ɵɵpipe(9, \"translate\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const item_r1 = ctx.$implicit;\n    const i_r2 = ctx.index;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(item_r1.icone);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(6, 3, \"HOME.VISION_ITEM_\" + (i_r2 + 1)), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(9, 5, \"HOME.VISION_ITEM_\" + (i_r2 + 1) + \"_DESC\"), \" \");\n  }\n}\nfunction HomeComponent_div_39_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 27);\n    i0.ɵɵelement(1, \"img\", 28);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const partenaire_r3 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"src\", partenaire_r3.logo, i0.ɵɵsanitizeUrl)(\"alt\", partenaire_r3.nom);\n  }\n}\ngsap.registerPlugin(ScrollTrigger);\nexport let HomeComponent = /*#__PURE__*/(() => {\n  class HomeComponent {\n    constructor(contentService, router) {\n      this.contentService = contentService;\n      this.router = router;\n      this.visionItems = [];\n      this.projetsRecents = [];\n      this.partenaires = [];\n    }\n    ngOnInit() {\n      this.homeData = this.contentService.getHomeData();\n      this.visionItems = this.homeData.visionItems;\n      this.projetsRecents = this.homeData.projetsRecents;\n      this.partenaires = [{\n        nom: 'Partenaire 1',\n        logo: 'https://via.placeholder.com/150x50?text=Partenaire+1'\n      }, {\n        nom: 'Partenaire 2',\n        logo: 'https://via.placeholder.com/150x50?text=Partenaire+2'\n      }, {\n        nom: 'Partenaire 3',\n        logo: 'https://via.placeholder.com/150x50?text=Partenaire+3'\n      }];\n    }\n    ngAfterViewInit() {\n      this.initialiserAnimations();\n    }\n    initialiserAnimations() {\n      // Utiliser des batches et des timelines pour des transitions plus fluides et performantes\n      gsap.defaults({\n        ease: 'power3.out'\n      });\n      // Batch pour les fade-in: apparaître par groupes avec léger stagger\n      ScrollTrigger.batch('.fade-in', {\n        onEnter: batch => {\n          gsap.fromTo(batch, {\n            opacity: 0,\n            y: 30\n          }, {\n            opacity: 1,\n            y: 0,\n            duration: 0.9,\n            stagger: 0.08\n          });\n        },\n        start: 'top 85%'\n      });\n      // Batch pour les éléments slide-up (cards / titres) avec un petit décalage entre eux\n      ScrollTrigger.batch('.slide-up', {\n        onEnter: batch => {\n          gsap.fromTo(batch, {\n            opacity: 0,\n            y: 60\n          }, {\n            opacity: 1,\n            y: 0,\n            duration: 1,\n            stagger: 0.12\n          });\n        },\n        start: 'top 85%'\n      });\n      // Parallax léger et plus fluide\n      gsap.utils.toArray('.parallax').forEach(element => {\n        gsap.to(element, {\n          y: -30,\n          ease: 'none',\n          scrollTrigger: {\n            trigger: element,\n            start: 'top 90%',\n            end: 'bottom 10%',\n            scrub: 0.6\n          }\n        });\n      });\n      // Découper le scroll en pourcentages et positionner la vidéo à chaque % (snap par pourcent)\n      const video = document.querySelector('.hero-section video');\n      if (video) {\n        // attendre les métadonnées pour connaître la durée\n        video.addEventListener('loadedmetadata', () => {\n          let lastPercent = -1;\n          // Créer un ScrollTrigger qui suit la progression et met à jour la vidéo uniquement quand le pourcent change\n          ScrollTrigger.create({\n            trigger: '.hero-section',\n            start: 'top top',\n            end: 'bottom top',\n            // scrub true pour que ScrollTrigger calcule progress en continu, mais on n'utilise que l'entier %\n            scrub: true,\n            onUpdate: self => {\n              const percent = Math.round(self.progress * 100);\n              if (percent !== lastPercent) {\n                lastPercent = percent;\n                const targetTime = Math.min(video.duration, percent / 100 * video.duration);\n                // Mettre à jour la position de la vidéo. On utilise requestAnimationFrame pour être sûr d'être dans un frame.\n                requestAnimationFrame(() => {\n                  try {\n                    // Définir currentTime directement pour \"snap\" à chaque pourcent\n                    video.currentTime = targetTime;\n                  } catch (e) {\n                    // Certains navigateurs peuvent lancer si manipulé trop souvent ; on ignore les erreurs silencieusement\n                    // (ou on pourrait fallback en faisant un petit gsap.to si nécessaire)\n                  }\n                });\n              }\n            }\n          });\n        });\n      }\n    }\n    defilerVersSections() {\n      gsap.to(window, {\n        duration: 0.8,\n        scrollTo: {\n          y: '.vision-section',\n          offsetY: 80\n        },\n        ease: 'power2.out'\n      });\n    }\n    retourHaut() {\n      gsap.to(window, {\n        duration: 0.8,\n        scrollTo: {\n          y: 0\n        },\n        ease: 'power2.out'\n      });\n    }\n    naviguerVersInvestissement() {\n      this.router.navigate(['/investissement']);\n    }\n    static {\n      this.ɵfac = function HomeComponent_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || HomeComponent)(i0.ɵɵdirectiveInject(i1.ContentService), i0.ɵɵdirectiveInject(i2.Router));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: HomeComponent,\n        selectors: [[\"app-home\"]],\n        standalone: true,\n        features: [i0.ɵɵStandaloneFeature],\n        decls: 42,\n        vars: 26,\n        consts: [[1, \"hero-section\", \"relative\", \"h-screen\", \"flex\", \"items-center\", \"justify-center\", \"overflow-hidden\"], [\"muted\", \"\", \"autoplay\", \"\", \"loop\", \"\", \"playsinline\", \"\", \"preload\", \"auto\", 1, \"object-cover\", \"w-full\", \"h-full\", 2, \"position\", \"fixed\", \"top\", \"0\", \"left\", \"0\", \"width\", \"100%\", \"height\", \"100%\", \"object-fit\", \"cover\", \"z-index\", \"-1\", \"pointer-events\", \"none\"], [\"src\", \"assets/media/video.mp4\", \"type\", \"video/mp4\"], [1, \"relative\", \"z-10\", \"text-center\", \"text-white\", \"px-4\"], [1, \"text-5xl\", \"md:text-7xl\", \"font-montserrat\", \"font-bold\", \"mb-6\", \"fade-in\"], [1, \"text-xl\", \"md:text-2xl\", \"mb-8\", \"max-w-2xl\", \"mx-auto\", \"fade-in\"], [\"variante\", \"primaire\", \"taille\", \"grand\", 3, \"onClick\", \"texte\"], [1, \"vision-section\", \"py-20\"], [1, \"container\", \"mx-auto\", \"px-4\"], [1, \"text-center\", \"mb-16\"], [1, \"text-4xl\", \"font-montserrat\", \"font-bold\", \"text-bleu-fonce\", \"mb-6\", \"slide-up\"], [1, \"text-xl\", \"text-gris-acier\", \"max-w-3xl\", \"mx-auto\", \"slide-up\"], [1, \"grid\", \"grid-cols-1\", \"md:grid-cols-3\", \"gap-8\"], [\"class\", \"text-center slide-up\", 4, \"ngFor\", \"ngForOf\"], [1, \"cta-section\", \"py-20\", \"bg-bleu-fonce\", \"text-white\", \"text-center\"], [1, \"text-4xl\", \"font-montserrat\", \"font-bold\", \"mb-6\", \"slide-up\"], [1, \"text-xl\", \"mb-8\", \"max-w-2xl\", \"mx-auto\", \"slide-up\"], [\"variante\", \"secondaire\", \"taille\", \"grand\", 3, \"onClick\", \"texte\"], [1, \"partenaires-section\", \"py-20\", \"backdrop-blur-md\"], [1, \"flex\", \"flex-wrap\", \"justify-center\", \"items-center\", \"gap-8\"], [\"class\", \"grayscale hover:grayscale-0 transition-all duration-300\", 4, \"ngFor\", \"ngForOf\"], [1, \"fixed\", \"bottom-4\", \"right-4\", \"bg-accent-jaune\", \"text-bleu-fonce\", \"p-3\", \"rounded-full\", \"shadow-lg\", \"hover:bg-accent-orange\", \"transition-colors\", \"z-50\", 3, \"click\"], [1, \"text-center\", \"slide-up\"], [1, \"w-20\", \"h-20\", \"bg-accent-jaune\", \"rounded-full\", \"flex\", \"items-center\", \"justify-center\", \"mx-auto\", \"mb-4\", \"parallax\"], [1, \"text-2xl\"], [1, \"text-2xl\", \"font-montserrat\", \"font-bold\", \"text-bleu-fonce\", \"mb-4\"], [1, \"text-gris-acier\"], [1, \"grayscale\", \"hover:grayscale-0\", \"transition-all\", \"duration-300\"], [1, \"h-16\", \"w-auto\", 3, \"src\", \"alt\"]],\n        template: function HomeComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"section\", 0)(1, \"video\", 1);\n            i0.ɵɵelement(2, \"source\", 2);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(3, \"div\", 3)(4, \"h1\", 4);\n            i0.ɵɵtext(5);\n            i0.ɵɵpipe(6, \"translate\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(7, \"p\", 5);\n            i0.ɵɵtext(8);\n            i0.ɵɵpipe(9, \"translate\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(10, \"app-button-cta\", 6);\n            i0.ɵɵpipe(11, \"translate\");\n            i0.ɵɵlistener(\"onClick\", function HomeComponent_Template_app_button_cta_onClick_10_listener() {\n              return ctx.defilerVersSections();\n            });\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(12, \"section\", 7)(13, \"div\", 8)(14, \"div\", 9)(15, \"h2\", 10);\n            i0.ɵɵtext(16);\n            i0.ɵɵpipe(17, \"translate\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(18, \"p\", 11);\n            i0.ɵɵtext(19);\n            i0.ɵɵpipe(20, \"translate\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(21, \"div\", 12);\n            i0.ɵɵtemplate(22, HomeComponent_div_22_Template, 10, 7, \"div\", 13);\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(23, \"section\", 14)(24, \"div\", 8)(25, \"h2\", 15);\n            i0.ɵɵtext(26);\n            i0.ɵɵpipe(27, \"translate\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(28, \"p\", 16);\n            i0.ɵɵtext(29, \" Rejoignez notre programme d'investissement participatif. \");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(30, \"app-button-cta\", 17);\n            i0.ɵɵpipe(31, \"translate\");\n            i0.ɵɵlistener(\"onClick\", function HomeComponent_Template_app_button_cta_onClick_30_listener() {\n              return ctx.naviguerVersInvestissement();\n            });\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(32, \"section\", 18)(33, \"div\", 8)(34, \"div\", 9)(35, \"h2\", 10);\n            i0.ɵɵtext(36);\n            i0.ɵɵpipe(37, \"translate\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(38, \"div\", 19);\n            i0.ɵɵtemplate(39, HomeComponent_div_39_Template, 2, 2, \"div\", 20);\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(40, \"button\", 21);\n            i0.ɵɵlistener(\"click\", function HomeComponent_Template_button_click_40_listener() {\n              return ctx.retourHaut();\n            });\n            i0.ɵɵtext(41, \" \\u2191 \");\n            i0.ɵɵelementEnd();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(5);\n            i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(6, 10, \"HOME.HERO_TITRE\"), \" \");\n            i0.ɵɵadvance(3);\n            i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(9, 12, \"HOME.HERO_SOUS_TITRE\"), \" \");\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"texte\", i0.ɵɵpipeBind1(11, 14, \"HOME.DECOUVRIR\"));\n            i0.ɵɵadvance(6);\n            i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(17, 16, \"HOME.VISION_TITRE\"), \" \");\n            i0.ɵɵadvance(3);\n            i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(20, 18, \"HOME.VISION_DESCRIPTION\"), \" \");\n            i0.ɵɵadvance(3);\n            i0.ɵɵproperty(\"ngForOf\", ctx.visionItems);\n            i0.ɵɵadvance(4);\n            i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(27, 20, \"HOME.CTA_INVESTIR\"), \" \");\n            i0.ɵɵadvance(4);\n            i0.ɵɵproperty(\"texte\", i0.ɵɵpipeBind1(31, 22, \"HOME.CTA_INVESTIR\"));\n            i0.ɵɵadvance(6);\n            i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(37, 24, \"HOME.PARTENAIRES_TITRE\"), \" \");\n            i0.ɵɵadvance(3);\n            i0.ɵɵproperty(\"ngForOf\", ctx.partenaires);\n          }\n        },\n        dependencies: [CommonModule, i3.NgForOf, TranslateModule, i4.TranslatePipe, ButtonCTAComponent]\n      });\n    }\n  }\n  return HomeComponent;\n})();","map":{"version":3,"names":["CommonModule","TranslateModule","ButtonCTAComponent","gsap","ScrollTrigger","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","item_r1","icone","ɵɵtextInterpolate1","ɵɵpipeBind1","i_r2","ɵɵelement","ɵɵproperty","partenaire_r3","logo","ɵɵsanitizeUrl","nom","registerPlugin","HomeComponent","constructor","contentService","router","visionItems","projetsRecents","partenaires","ngOnInit","homeData","getHomeData","ngAfterViewInit","initialiserAnimations","defaults","ease","batch","onEnter","fromTo","opacity","y","duration","stagger","start","utils","toArray","forEach","element","to","scrollTrigger","trigger","end","scrub","video","document","querySelector","addEventListener","lastPercent","create","onUpdate","self","percent","Math","round","progress","targetTime","min","requestAnimationFrame","currentTime","e","defilerVersSections","window","scrollTo","offsetY","retourHaut","naviguerVersInvestissement","navigate","ɵɵdirectiveInject","i1","ContentService","i2","Router","selectors","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","HomeComponent_Template","rf","ctx","ɵɵlistener","HomeComponent_Template_app_button_cta_onClick_10_listener","ɵɵtemplate","HomeComponent_div_22_Template","HomeComponent_Template_app_button_cta_onClick_30_listener","HomeComponent_div_39_Template","HomeComponent_Template_button_click_40_listener","i3","NgForOf","i4","TranslatePipe"],"sources":["/home/dialibatoul-marakhib/Programation/tanzil/frontend/src/app/pages/home/home.component.ts"],"sourcesContent":["import { Component, OnInit, AfterViewInit } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { CardComponent } from '../../components/card/card.component';\nimport { ButtonCTAComponent } from '../../components/button-cta/button-cta.component';\nimport { gsap } from 'gsap';\nimport { ScrollTrigger } from 'gsap/ScrollTrigger';\nimport { ContentService } from '../../services/content.service';\nimport { Router } from '@angular/router';\n\ngsap.registerPlugin(ScrollTrigger);\n\n@Component({\n  selector: 'app-home',\n  standalone: true,\n  imports: [CommonModule, TranslateModule, ButtonCTAComponent],\n  template: `\n    <section class=\"hero-section relative h-screen flex items-center justify-center overflow-hidden\">\n      <!-- Vidéo fixée en arrière-plan -->\n      <video\n        class=\"object-cover w-full h-full\"\n        muted\n        autoplay\n        loop\n        playsinline\n        preload=\"auto\"\n        style=\"position:fixed; top:0; left:0; width:100%; height:100%; object-fit:cover; z-index:-1; pointer-events:none;\"\n      >\n        <source src=\"assets/media/video.mp4\" type=\"video/mp4\">\n      </video>\n\n      <div class=\"relative z-10 text-center text-white px-4\">\n        <h1 class=\"text-5xl md:text-7xl font-montserrat font-bold mb-6 fade-in\">\n          {{ 'HOME.HERO_TITRE' | translate }}\n        </h1>\n        <p class=\"text-xl md:text-2xl mb-8 max-w-2xl mx-auto fade-in\">\n          {{ 'HOME.HERO_SOUS_TITRE' | translate }}\n        </p>\n        <app-button-cta\n            [texte]=\"'HOME.DECOUVRIR' | translate\"\n          variante=\"primaire\"\n          taille=\"grand\"\n          (onClick)=\"defilerVersSections()\"\n        ></app-button-cta>\n      </div>\n    </section>\n\n    <section class=\"vision-section py-20 \">\n      <div class=\"container mx-auto px-4\">\n        <div class=\"text-center mb-16\">\n          <h2 class=\"text-4xl font-montserrat font-bold text-bleu-fonce mb-6 slide-up\">\n            {{ 'HOME.VISION_TITRE' | translate }}\n          </h2>\n          <p class=\"text-xl text-gris-acier max-w-3xl mx-auto slide-up\">\n            {{ 'HOME.VISION_DESCRIPTION' | translate }}\n          </p>\n        </div>\n\n        <div class=\"grid grid-cols-1 md:grid-cols-3 gap-8\">\n          <div class=\"text-center slide-up\" *ngFor=\"let item of visionItems; let i = index\">\n            <div class=\"w-20 h-20 bg-accent-jaune rounded-full flex items-center justify-center mx-auto mb-4 parallax\">\n              <span class=\"text-2xl\">{{ item.icone }}</span>\n            </div>\n            <h3 class=\"text-2xl font-montserrat font-bold text-bleu-fonce mb-4\">\n              {{ 'HOME.VISION_ITEM_' + (i+1) | translate }}\n            </h3>\n            <p class=\"text-gris-acier\">\n              {{ 'HOME.VISION_ITEM_' + (i+1) + '_DESC' | translate }}\n            </p>\n          </div>\n        </div>\n      </div>\n    </section>\n\n    <section class=\"cta-section py-20 bg-bleu-fonce text-white text-center\">\n      <div class=\"container mx-auto px-4\">\n        <h2 class=\"text-4xl font-montserrat font-bold mb-6 slide-up\">\n          {{ 'HOME.CTA_INVESTIR' | translate }}\n        </h2>\n        <p class=\"text-xl mb-8 max-w-2xl mx-auto slide-up\">\n          Rejoignez notre programme d'investissement participatif.\n        </p>\n        <app-button-cta\n          [texte]=\"'HOME.CTA_INVESTIR' | translate\"\n          variante=\"secondaire\"\n          taille=\"grand\"\n          (onClick)=\"naviguerVersInvestissement()\"\n        ></app-button-cta>\n      </div>\n    </section>\n\n    <section class=\"partenaires-section py-20  backdrop-blur-md\">\n      <div class=\"container mx-auto px-4\">\n        <div class=\"text-center mb-16\">\n          <h2 class=\"text-4xl font-montserrat font-bold text-bleu-fonce mb-6 slide-up\">\n            {{ 'HOME.PARTENAIRES_TITRE' | translate }}\n          </h2>\n        </div>\n\n        <div class=\"flex flex-wrap justify-center items-center gap-8\">\n          <div\n            *ngFor=\"let partenaire of partenaires\"\n            class=\"grayscale hover:grayscale-0 transition-all duration-300\"\n          >\n            <img [src]=\"partenaire.logo\" [alt]=\"partenaire.nom\" class=\"h-16 w-auto\">\n          </div>\n        </div>\n      </div>\n    </section>\n\n    <button (click)=\"retourHaut()\" class=\"fixed bottom-4 right-4 bg-accent-jaune text-bleu-fonce p-3 rounded-full shadow-lg hover:bg-accent-orange transition-colors z-50\">\n      ↑\n    </button>\n  `,\n  styles: [`\n  `]\n})\nexport class HomeComponent implements OnInit, AfterViewInit {\n  homeData: any;\n  visionItems: any[] = [];\n  projetsRecents: any[] = [];\n  partenaires: any[] = [];\n\n  constructor(private contentService: ContentService, private router: Router) {}\n\n  ngOnInit() {\n    this.homeData = this.contentService.getHomeData();\n    this.visionItems = this.homeData.visionItems;\n    this.projetsRecents = this.homeData.projetsRecents;\n    this.partenaires = [\n      { nom: 'Partenaire 1', logo: 'https://via.placeholder.com/150x50?text=Partenaire+1' },\n      { nom: 'Partenaire 2', logo: 'https://via.placeholder.com/150x50?text=Partenaire+2' },\n      { nom: 'Partenaire 3', logo: 'https://via.placeholder.com/150x50?text=Partenaire+3' }\n    ];\n  }\n\n  ngAfterViewInit() {\n    this.initialiserAnimations();\n  }\n\n  initialiserAnimations() {\n    // Utiliser des batches et des timelines pour des transitions plus fluides et performantes\n    gsap.defaults({ ease: 'power3.out' });\n\n    // Batch pour les fade-in: apparaître par groupes avec léger stagger\n    ScrollTrigger.batch('.fade-in', {\n      onEnter: (batch) => {\n        gsap.fromTo(batch, { opacity: 0, y: 30 }, {\n          opacity: 1,\n          y: 0,\n          duration: 0.9,\n          stagger: 0.08\n        });\n      },\n      start: 'top 85%'\n    });\n\n    // Batch pour les éléments slide-up (cards / titres) avec un petit décalage entre eux\n    ScrollTrigger.batch('.slide-up', {\n      onEnter: (batch) => {\n        gsap.fromTo(batch, { opacity: 0, y: 60 }, {\n          opacity: 1,\n          y: 0,\n          duration: 1,\n          stagger: 0.12\n        });\n      },\n      start: 'top 85%'\n    });\n\n    // Parallax léger et plus fluide\n    gsap.utils.toArray('.parallax').forEach((element: any) => {\n      gsap.to(element, {\n        y: -30,\n        ease: 'none',\n        scrollTrigger: {\n          trigger: element,\n          start: 'top 90%',\n          end: 'bottom 10%',\n          scrub: 0.6\n        }\n      });\n    });\n\n    // Découper le scroll en pourcentages et positionner la vidéo à chaque % (snap par pourcent)\n    const video = document.querySelector('.hero-section video') as HTMLVideoElement;\n    if (video) {\n      // attendre les métadonnées pour connaître la durée\n      video.addEventListener('loadedmetadata', () => {\n        let lastPercent = -1;\n\n        // Créer un ScrollTrigger qui suit la progression et met à jour la vidéo uniquement quand le pourcent change\n        ScrollTrigger.create({\n          trigger: '.hero-section',\n          start: 'top top',\n          end: 'bottom top',\n          // scrub true pour que ScrollTrigger calcule progress en continu, mais on n'utilise que l'entier %\n          scrub: true,\n          onUpdate: (self) => {\n            const percent = Math.round(self.progress * 100);\n            if (percent !== lastPercent) {\n              lastPercent = percent;\n              const targetTime = Math.min(video.duration, (percent / 100) * video.duration);\n\n              // Mettre à jour la position de la vidéo. On utilise requestAnimationFrame pour être sûr d'être dans un frame.\n              requestAnimationFrame(() => {\n                try {\n                  // Définir currentTime directement pour \"snap\" à chaque pourcent\n                  video.currentTime = targetTime;\n                } catch (e) {\n                  // Certains navigateurs peuvent lancer si manipulé trop souvent ; on ignore les erreurs silencieusement\n                  // (ou on pourrait fallback en faisant un petit gsap.to si nécessaire)\n                }\n              });\n            }\n          }\n        });\n      });\n    }\n  }\n\n  defilerVersSections() {\n    gsap.to(window, {\n      duration: 0.8,\n      scrollTo: { y: '.vision-section', offsetY: 80 },\n      ease: 'power2.out'\n    });\n  }\n\n  retourHaut() {\n    gsap.to(window, {\n      duration: 0.8,\n      scrollTo: { y: 0 },\n      ease: 'power2.out'\n    });\n  }\n\n  naviguerVersInvestissement() {\n    this.router.navigate(['/investissement']);\n  }\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}